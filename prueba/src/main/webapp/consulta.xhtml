<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:h="http://xmlns.jcp.org/jsf/html">

<h:head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <meta name="description" content="Consultar"/>
    <meta name="author" content="Kevin Caicedo"/>
    <title>Consulta Informacion</title>
    <link rel="stylesheet" type="text/css"
          href="https://stackpath.bootstrapcdn.com/bootswatch/4.3.1/cosmo/bootstrap.min.css"/>
    <h:outputStylesheet>
        .calculoTable {
            border-collapse:collapse;
            border:1px solid #000000;
        }

        .calculoTableHeader {
            text-align:center;
            background:none repeat scroll 0 0 #B5B5B5;
            border-bottom:1px solid #000000;
            padding:2px;
        }

        .calculoTableOddRow {
            text-align:center;
            background:none repeat scroll 0 0 #FFFFFF;
        }

        .calculoTableEvenRow {
            text-align:center;
            background:none repeat scroll 0 0 #D3D3D3;
        }
    </h:outputStylesheet>
</h:head>
<h:body>
    <br/>
    <div class="container">
        <h:form>
            <h:panelGroup layout="block" >
                <div class="row">
                    <div class="col-md-6">
                        Consulta Informacion
                        <strong>
                            <h:outputLabel  />
                        </strong>
                    </div>
                </div>
                <br/>
            </h:panelGroup>

            <div class="form-group">
                <label for="monthField">Usuario:</label>
                <h:inputText id="monthField"
                             styleClass="form-control"
                             value="#{consultaForm.name}"
                             autocomplete="off" />
            </div>

            <div class="form-group">
                <label for="min">Respuesta minima</label>
                <h:inputText id="min"
                             styleClass="form-control"
                             autocomplete="off"
                             value="#{consultaForm.min}"
                             converter="javax.faces.Integer" />
            </div>

            <div class="form-group">
                <label for="max">Respuesta maxima</label>
                <h:inputText id="max"
                             styleClass="form-control"
                             autocomplete="off"
                             value="#{consultaForm.max}"
                             converter="javax.faces.Integer" />
            </div>

            <br/>
            <h:link value="Registro" outcome="registro.jsf" />
            <br/>
            <br/>
            <h:commandButton type="submit"
                             value="Consultar"
                             action="#{consultaController.consultar}"
                             styleClass="btn btn-primary"/>

        </h:form>

        <br/>
        <h:messages id="messages" showSummary="true" />
        <br/>
        <br/>

        <h:dataTable value="#{consultaController.listCalculos}"
                     styleClass = "calculoTable"
                     headerClass = "calculoTableHeader"
                     rowClasses = "calculoTableOddRow,calculoTableEvenRow"
                     var="calculo">

            <h:column>
                <f:facet name = "header">Usuario</f:facet>
                #{calculo.usuario}
            </h:column>

            <h:column>
                <f:facet name = "header">Respuesta</f:facet>
                #{calculo.resultado}
            </h:column>

            <h:column>
                <f:facet name = "header">Fecha Ejecucion</f:facet>
                #{calculo.createdAt}
            </h:column>
        </h:dataTable>

    </div>
</h:body>
</html>